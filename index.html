<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Drishtii Eyecare</title>

<!-- GOOGLE FONT -->
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">

<!-- üî• FIREBASE (DO NOT TOUCH) -->
<script src="https://www.gstatic.com/firebasejs/10.14.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.14.1/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.14.1/firebase-firestore-compat.js"></script>

<script>
const firebaseConfig = {
  apiKey: "AIzaSyDy8sQ9YGRI3xQoR8HLdoxWvY8E7T654Y4",
  authDomain: "drishtiiusers.firebaseapp.com",
  projectId: "drishtiiusers",
  storageBucket: "drishtiiusers.firebasestorage.app",
  messagingSenderId: "464279956816",
  appId: "1:464279956816:web:a0340b39a8b9c6e3ba9055"
};

firebase.initializeApp(firebaseConfig);
const auth = firebase.auth();
const db = firebase.firestore();
</script>

<style>
:root{
  --orange:#FF6B35;
  --green:#00A651;
  --gradient:linear-gradient(135deg,#FF6B35,#00A651,#2196F3);
}

body{
  margin:0;
  font-family:Montserrat,Arial;
  background:#fff;
}

.container{
  max-width:1200px;
  margin:auto;
  padding:20px;
}

header{
  position:sticky;
  top:0;
  background:white;
  box-shadow:0 5px 20px rgba(0,0,0,.08);
  z-index:10;
}

.header-flex{
  display:flex;
  justify-content:space-between;
  align-items:center;
}

.logo{
  font-weight:700;
  font-size:22px;
  color:var(--orange);
  text-decoration:none;
}

.btn{
  padding:12px 25px;
  border:none;
  border-radius:30px;
  cursor:pointer;
  font-weight:600;
}

.btn-orange{background:var(--orange);color:white;}
.btn-green{background:var(--green);color:white;}

.hero{
  background:var(--gradient);
  color:white;
  text-align:center;
  padding:80px 20px;
}

.hero h1{font-size:48px;margin:0;}

.products{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(250px,1fr));
  gap:20px;
}

.card{
  box-shadow:0 15px 30px rgba(0,0,0,.1);
  border-radius:20px;
  overflow:hidden;
}

.card img{
  width:100%;
  height:220px;
  object-fit:cover;
}

.card div{padding:15px;}

.price{
  font-size:26px;
  font-weight:700;
  color:var(--green);
}

.section{
  padding:50px 0;
}

.trust{
  display:grid;
  grid-template-columns:repeat(2,1fr);
  gap:20px;
  text-align:center;
  background:#f8f9ff;
}

input{
  padding:12px;
  margin:5px;
  width:250px;
}

footer{
  text-align:center;
  padding:20px;
  background:#111;
  color:white;
}

.whatsapp{
  position:fixed;
  bottom:20px;
  right:20px;
  width:60px;
  height:60px;
  background:#25D366;
  color:white;
  border-radius:50%;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:28px;
  text-decoration:none;
}
</style>
</head>

<body>

<header>
  <div class="container header-flex">
    <a class="logo">Drishtii Eyecare</a>
    <a href="https://wa.me/919064000639" class="btn btn-green">WhatsApp</a>
  </div>
</header>

<!-- HERO -->
<section class="hero">
  <h1>Glasses @ ‚Çπ999</h1>
  <p>Frame + Lens + Eye Test</p>
  <button class="btn btn-orange">Shop Now</button>
</section>

<!-- LOGIN -->
<section class="section" style="background:#f4f4f4;text-align:center">
  <h2>Login / Register</h2>
  <input id="email" placeholder="Email">
  <input id="password" type="password" placeholder="Password"><br>
  <button class="btn btn-orange" onclick="login()">Login</button>
  <button class="btn btn-green" onclick="register()">Register</button>
</section>

<!-- PRESCRIPTION -->
<section id="prescription" class="section" style="display:none">
  <div class="container">
    <h2>My Prescriptions</h2>
    <div id="prescriptionList"></div>
    <button class="btn btn-orange" onclick="addPrescription()">Add Prescription</button>
  </div>
</section>

<!-- PRODUCTS -->
<section class="section">
  <div class="container products">
    <div class="card">
      <img src="https://images.unsplash.com/photo-1587563871167-1ee9c731aefb?w=400">
      <div>
        <h3>Aviator</h3>
        <div class="price">‚Çπ999</div>
      </div>
    </div>

    <div class="card">
      <img src="https://images.unsplash.com/photo-1600180758890-6b94519a8ba6?w=400">
      <div>
        <h3>Square</h3>
        <div class="price">‚Çπ999</div>
      </div>
    </div>
  </div>
</section>

<!-- APPOINTMENT -->
<section class="section" style="text-align:center">
  <h2>Book Eye Checkup</h2>
  <input id="name" placeholder="Name">
  <input id="phone" placeholder="Phone"><br>
  <button class="btn btn-green" onclick="book()">Book on WhatsApp</button>
</section>

<!-- TRUST -->
<section class="section trust">
  <div>‚≠ê 4.9 Rating</div>
  <div>50K+ Customers</div>
  <div>24H Delivery</div>
  <div>100% Authentic</div>
</section>

<footer>
  <p>Bethuadahari, West Bengal</p>
  <p>üìû 9064000639</p>
</footer>

<a class="whatsapp" href="https://wa.me/919064000639">üí¨</a>

<script>
let currentUser=null;

auth.onAuthStateChanged(user=>{
  if(user){
    currentUser=user;
    prescription.style.display="block";
    loadPrescriptions();
  }
});

function login(){
  auth.signInWithEmailAndPassword(email.value,password.value)
  .catch(alert);
}

function register(){
  auth.createUserWithEmailAndPassword(email.value,password.value)
  .catch(alert);
}

function addPrescription(){
  const r=prompt("Right SPH");
  const l=prompt("Left SPH");

  db.collection("prescriptions").add({
    userId:currentUser.uid,
    rightSPH:r,
    leftSPH:l,
    date:new Date().toDateString()
  }).then(loadPrescriptions);
}

function loadPrescriptions(){
  prescriptionList.innerHTML="";
  db.collection("prescriptions")
  .where("userId","==",currentUser.uid)
  .get()
  .then(snap=>{
    snap.forEach(d=>{
      const p=d.data();
      prescriptionList.innerHTML+=`<p>${p.date} | R:${p.rightSPH} L:${p.leftSPH}</p>`;
    });
  });
}

function book(){
  window.open("https://wa.me/919064000639?text=Eye%20Checkup%20Appointment");
}
</script>

</body>
</html>
